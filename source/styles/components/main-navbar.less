@import '../variables.less';
@import '../sprite.less';

.main-navbar-wrapper {
	position: relative;

	background: #fff;
	&:before {
		position: absolute;
		z-index: 1;
		top: 0;

		width: 100%;
		height: 1px;

		content: '';

		background: @grey-borders;
	}
	&:after {
		position: absolute;
		z-index: 1;
		bottom: 0;

		width: 100%;
		height: 1px;

		content: '';

		background: @grey-borders;
	}
	@media @mobile {
		.container {
			padding: 0 28px;
		}
	}
}
// #Search input
.search-box-wrapper {
	position: relative;
}
.search-box-inputs {
	position: relative;

	display: none;
	@media @tablets {
		display: block;
	}
}
.search-btn {
	position: absolute;
	top: 50%;
	right: 0;

	display: block;

	width: 36px;
	height: 36px;
	margin-top: 0;
	padding: 0;

	content: '';
	cursor: pointer;

	border: 1px solid @grey-borders;
	background: data-uri('image/png;base64', '/img/ico-search.png') no-repeat center center;

	font-size: 0;

	@media @medium {
		right: 12px;

		width: 11px;
		height: 11px;
		margin-top: -5px;

		border: none;
	}
	@media @retina {
		width: 22px;
		height: 22px;
		margin-top: -11px;

		content: '';

		background: data-uri('image/png;base64', '/img/ico-search2X.png') no-repeat;
	}
}
.mobile-search-input-trigger {
	position: absolute;
	top: 50%;
	right: 0;

	display: block;

	width: 36px;
	height: 36px;
	margin-top: 0;
	padding: 0;

	content: '';
	cursor: pointer;

	font-size: 0;
	@media @medium {
		display: none;
	}
}
.search-box-inputs {
	&--active {
		.search-box {
			height: 36px;

			opacity: 1;
		}
		.mobile-search-input-trigger {
			display: none;
		}
	}
}

.main-navbar {
	@media @mobile {
		position: absolute;
		z-index: 13;
		top: 34px;
		right: 8px;
		left: 8px;

		overflow: hidden;

		max-height: 0;

		transition: 0.3s ease-in;

		border: none;
		border-bottom: 1px solid transparent;
		&:before {
			position: absolute;
			z-index: 14;
			top: 0;
			left: 0;

			width: 100%;

			content: '';

			border-top: 2px solid @grey-dark-lighter;
		}
		&.main-navbar--active {
			max-height: 1600px;

			border-bottom: 1px solid @grey-dark-lighter;
		}

		&__toggle {
			position: relative;
			z-index: 2;

			float: left;

			box-sizing: border-box;
			width: 48px;
			height: 36px;
			padding: 11px 12px 12px;

			cursor: pointer;

			background: @grey-dark-lighter;
			&:before {
				position: absolute;
				z-index: 2;
				top: 0;
				left: 0;

				width: 100%;
				height: 2px;

				content: '';

				background: @grey-dark-lighter;
			}
			&__borders {
				z-index: 3;

				width: 100%;

				border-top: 3px solid #fff;
				border-bottom: 3px solid #fff;
				&:before {
					display: block;

					width: 100%;
					height: 3px;
					margin: 3px 0;

					content: '';

					background: #fff;
				}
			}
		}
	}
	&__item {
		float: none;

		min-width: 77px;
		//.default-transition();
		@media @tablets {
			float: left;
		}
		&__link + &__link {
			border-top: 3px solid @grey-dark-lighter;
		}
		&__link {
			position: relative;
			z-index: 1;

			display: block;

			padding: 0 12px;

			text-align: left;
			text-decoration: none;
			text-transform: uppercase;

			color: #fff;
			border-width: 1px 3px 2px 3px;
			border-style: solid;
			border-color: @grey-dark-lighter;
			background: #787878;

			font-size: 18px;
			line-height: 47px;

			.default-transition();
			@media @tablets {
				text-align: center;
				text-transform: none;

				color: @grey-dark;
				border: none;
				background: transparent;

				line-height: 36px;
			}
			&--active {
				color: #fff;
				background: @blue;
			}
			&:hover {
				color: #fff;
				background: #1ca0c7;
			}
			& + .mega-menu__wrapper {
				border-bottom-width: 1px;
			}
		}
	}
	&__user-link {
		display: block;
		float: right;

		width: 46px;
		height: 36px;

		text-align: center;

		border-right: 1px solid @grey-borders;
		border-left: 1px solid @grey-borders;
		@media @tablets {
			display: none;
		}
		&:after {
			display: inline-block;

			margin-top: 6px;

			content: '';

			.sprite(@icon-user);
		}
	}
	&__cart {
		position: relative;
		z-index: 12;

		display: block;
		float: right;

		width: 46px;
		height: 36px;

		text-align: center;

		border-right: 1px solid @grey-borders;
		@media @tablets {
			display: none;
		}
		&:after {
			display: inline-block;

			margin-top: 7px;

			content: '';

			.sprite(@icon-cart);
		}
		&__items-count {
			position: absolute;
			top: -9px;
			right: 0;

			min-width: 18px;

			color: #fff;
			border-radius: 50%;
			background: #e13f56;

			font-family: 'Aleo', serif;
			font-size: 12px;
			line-height: 18px;
		}
	}
}
.mega-menu {
	position: relative;
	z-index: 13;
	.container {
		padding: 0;
	}
	.main-navbar__item__link {
		cursor: pointer;

		border-bottom-width: 1px;
		&:before {
			position: absolute;
			top: 20px;
			right: 18px;

			content: '';

			.sprite(@icon-arrow-bottom);
			@media @tablets {
				display: none;
			}
		}
	}
	&.mega-menu--active .main-navbar__item__link, &.mega-menu--active:hover .main-navbar__item__link {
		background: @blue;
		&:before {
			position: absolute;
			top: 20px;
			right: 18px;

			content: '';

			.sprite(@icon-arrow-top);
		}
		@media @tablets {
			color: #fff;
			background: @grey-dark-lighter;
		}
	}
	&__wrapper {
		display: block;

		.clearfix();
		@media @tablets {
			position: absolute;

			display: none;
		}
	}
	&__content {
		z-index: 12;
		left: -2px;

		border-width: 0 3px 1px 3px;
		border-style: solid;
		border-color: @grey-dark-lighter;
		background: #f6f6f6;
		@media @mobile {
			overflow: hidden;

			max-height: 0;

			transition: 0.3s ease-in;
			.mega-menu--active & {
				max-height: 1000px;
			}
		}
		@media @tablets {
			position: absolute;

			border-width: 0 5px 5px 5px;
			border-color: rgba(53, 52, 52, 0.95);
			&:before {
				position: absolute;
				top: -1px;
				left: -2px;

				display: block;

				width: 100%;
				height: 2px;
				padding: 0 2px;

				content: '';

				background: #353434;
			}
		}
	}
	&__header {
		position: relative;

		padding: 14px;

		cursor: pointer;
		text-transform: uppercase;

		color: #343434;
		background: #e9e9e9;

		font-size: 18px;
		@media @mobile {
			border-top: 2px solid @grey-dark-lighter;
			&:after {
				position: absolute;
				top: 20px;
				right: 18px;

				content: '';

				.sprite(@icon-arrow-bottom);
			}
		}
		@media @tablets {
			cursor: default;

			border-bottom: 1px solid @grey-light;
		}
	}
	&__category {
		background: @grey-dark-lighter;
		&:first-child .mega-menu__header {
			border-top-width: 1px;
		}
		&.mega-menu__category--active {
			.mega-menu__header {
				background: #b1b1b1;
				@media @tablets {
					cursor: default;

					background: #e9e9e9;
				}
				&:after {
					.sprite(@icon-arrow-top);
				}
			}
			.mega-menu__sub {
				max-height: 1000px;
			}
		}
		@media @tablets {
			float: left;

			min-width: 266px;

			background: #f6f6f6;
			&:before {
				position: absolute;

				width: 1px;
				height: 100%;

				content: '';

				background: @grey-light;
			}
		}
		&__links {
			overflow: hidden;

			padding: 0 0 1px 0;
			//padding: 0 0 5px 0;

			@media @tablets {
				padding: 0 40px 5px 0;
			}
		}
		&:first-child:before {
			display: none;
		}
		&.mega-menu--active .mega-menu--header:after {
			position: absolute;
			top: 20px;
			right: 10px;

			content: '';

			.sprite(@icon-arrow-top);
			@media @tablets {
				display: none;
			}
		}
		&.mega-menu--active .mega-menu__category__links {
			height: auto;
			padding: 0;
		}
	}
	&__onehalf {
		@media @tablets {
			float: left;
		}
	}
	&__sub {
		padding: 0 0 6px 17px;
		@media @mobile {
			overflow: hidden;

			max-height: 0;
			padding-bottom: 0;

			transition: 0.3s ease-in;
		}
		&__item {
			border-bottom: 1px solid #2d2c2c;
		}
		@media @tablets {
			padding: 12px 0 6px 12px;
			&__item {
				margin-bottom: 6px;

				border-bottom: none;
			}
		}
		&__item--adv {
			display: inline-block;

			width: 100%;
			margin-top: 3px;
			margin-left: -17px;
			padding: 5px 10px 5px 25px;

			color: #030302;
			background: #fff;

			font-family: 'Aleo', serif;
			font-size: 18px;
			font-weight: bold;
			line-height: 32px;
			@media @tablets {
				width: auto;
				margin-left: 0;
				padding: 5px 10px;

				color: #fff;
				background: #62214e;

				font-size: 14px;
				font-weight: normal;
				line-height: 17px;
			}
		}
		&__link {
			position: relative;

			display: block;

			padding: 0 30px 0 0;

			text-decoration: none;

			color: #fff;

			font-family: 'Aleo', serif;
			font-size: 18px;
			line-height: 46px;

			.default-transition();
			@media @mobile {
				&:after {
					position: absolute;
					top: 15px;
					right: 20px;

					content: '';
					transition-delay: 0s;
					transform: translate(-20px, 0);

					opacity: 0;

					.sprite(@icon-arrow-left);
					.default-transition();
				}
			}
			&:hover:after {
				transition-delay: 0.1s;
				transform: translate(0, 0);

				opacity: 1;
			}
			&:hover {
				padding-left: 10px;

				color: #fff;
				background: #030302;
			}
			@media @tablets {
				display: inline-block;

				margin-left: -9px;
				padding: 5px 10px;

				color: @grey-darklight;

				font-size: 14px;
				line-height: 17px;
				&:hover {
					color: #fff;
					background: @grey-darklight;
				}
			}
		}
	}
	&__add-link {
		margin-top: 18px;

		font-size: 16px;
		font-weight: bold;
	}
}